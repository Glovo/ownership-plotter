<html lang="en">
<!--head must be declared on top to preserve the order of tags so raw diagram data is visible in the script-->
<head>
  <title>Example HTML diagram</title>
</head>
<body></body>
<script lang="javascript">
  const diagramData = (() => {
    const rawDiagramDataElementName = 'rawDiagramData';
    const rawDiagramDataElement = document.querySelector(`meta[name="${rawDiagramDataElementName}"]`);
    if (rawDiagramDataElement === null) {
      throw new Error(`required element could not be found: ${rawDiagramDataElementName}`);
    }
    const rawDiagramData = rawDiagramDataElement.textContent;
    const diagramData = JSON.parse(rawDiagramData);
    rawDiagramDataElement.remove();
    return diagramData;
  })();

  const diagramElement = document.createElement('div');
  document.body.appendChild(diagramElement);
  diagramElement.id = 'diagram';
  diagramElement.textContent = `diagram data is: '${JSON.stringify(diagramData, null, 2)}'`;
</script>
</html>